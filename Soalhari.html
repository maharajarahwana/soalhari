<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Hari acak</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Latihan Soal Hari</title>
<style>
body { font-family: Arial, sans-serif; padding:20px; }
.question { display:none; margin-bottom:20px; }
.timer { font-weight:bold; margin-bottom:10px; }
.score { margin-top:10px; font-weight:bold; }
button { margin:5px 2px; padding:5px 10px; }

.correct { color: blue; font-weight: bold; }
.wrong { color: red; font-weight: bold; }
</style>
</head>
<body>

<h2>Latihan Soal Hari</h2>
<div class="timer">Sisa Waktu: <span id="time">15:00</span></div>

<form id="quizForm"></form>

<div>
<button type="button" onclick="prevQuestion()">Sebelumnya</button>
<button type="button" onclick="nextQuestion()">Selanjutnya</button>
<button type="button" onclick="confirmSubmit()">Submit</button>
</div>

<div class="score" id="result"></div>

<script>
const questionsData = [
{
q: "오늘은 화요일 입니다. 내일은 무슨 요일입니까?",
a: ["일요일","월요일","수요일","목요일"],
c: "수요일"
},
{
q: "내일은 목요일 입니다. 오늘은 무슨 요일입니까?",
a: ["화요일","수요일","금요일","토요일"],
c: "수요일"
},
{
q: "어제는 일요일 입니다. 오늘은 무슨 요일입니까?",
a: ["토요일","금요일","화요일","월요일"],
c: "월요일"
},
{
q: "오늘은 금요일 입니다. 어제는 무슨 요일입니까?",
a: ["수요일","목요일","토요일","일요일"],
c: "목요일"
},
{
q: "어제는 화요일 입니다. 내일은 무슨 요일입니까?",
a: ["목요일","수요일","일요일","토요일"],
c: "목요일"
},
{
q: "내일은 수요일 입니다. 어제는 무슨 요일입니까?",
a: ["월요일","화요일","금요일","목요일"],
c: "월요일"
},
{
q: "어제는 금요일 입니다. 오늘은 무슨 요일입니까?",
a: ["목요일","일요일","토요일","수요일"],
c: "토요일"
},
{
q: "오늘은 토요일 입니다. 내일은 무슨 요일입니까?",
a: ["금요일","목요일","일요일","토요일"],
c: "일요일"
},
{
q: "내일은 화요일 입니다. 오늘은 무슨 요일입니까?",
a: ["토요일","수요일","일요일","월요일"],
c: "월요일"
},
{
q: "내일은 목요일 입니다. 어제는 무슨 요일입니까?",
a: ["화요일","수요일","일요일","금요일"],
c: "화요일"
}
];

// shuffle function
function shuffle(array){
for(let i=array.length-1;i>0;i--){
let j=Math.floor(Math.random()*(i+1));
[array[i],array[j]]=[array[j],array[i]];
}
return array;
}

shuffle(questionsData);

const form = document.getElementById("quizForm");

questionsData.forEach((item,index)=>{
let div=document.createElement("div");
div.className="question";

let p=document.createElement("p");
p.innerText=(index+1)+". "+item.q;
div.appendChild(p);

let answers = shuffle([...item.a]);

answers.forEach(ans=>{
let label=document.createElement("label");
let input=document.createElement("input");
input.type="radio";
input.name="q"+index;
input.value=ans;
label.appendChild(input);
label.append(" "+ans);
if(ans===item.c){
label.dataset.correct="true";
}
div.appendChild(label);
div.appendChild(document.createElement("br"));
});

form.appendChild(div);
});

let current=0;
let questionElements=document.querySelectorAll(".question");
questionElements[current].style.display="block";

function showQuestion(i){
questionElements.forEach(q=>q.style.display="none");
questionElements[i].style.display="block";
}

function nextQuestion(){
if(current<questionElements.length-1){
current++;
showQuestion(current);
}
}

function prevQuestion(){
if(current>0){
current--;
showQuestion(current);
}
}

function confirmSubmit(){
if(confirm("Yakin untuk submit?")){
submitQuiz();
}
}

function submitQuiz(){
let score=0;

questionsData.forEach((item,index)=>{
let selected=document.querySelector('input[name="q'+index+'"]:checked');
let inputs=document.querySelectorAll('input[name="q'+index+'"]');

inputs.forEach(input=>{
let label=input.parentElement;
input.disabled=true;

if(label.dataset.correct==="true"){
label.classList.add("correct");
}

if(selected && input===selected){
if(label.dataset.correct==="true"){
score++;
label.classList.add("correct");
}else{
label.classList.add("wrong");
}
}
});
});

let percent=(score/questionsData.length)*100;
document.getElementById("result").innerText="Nilai Anda: "+percent+"%";
clearInterval(timerInterval);
}

let totalTime=15*60;
let timerDisplay=document.getElementById("time");

let timerInterval=setInterval(function(){
let minutes=Math.floor(totalTime/60);
let seconds=totalTime%60;
timerDisplay.textContent=
(minutes<10?"0":"")+minutes+":"+
(seconds<10?"0":"")+seconds;
totalTime--;
if(totalTime<0){
clearInterval(timerInterval);
submitQuiz();
}
},1000);
</script>

</body>
</html>
    
  </body>
  
</html>
